---
- name: BUILDAH | Test output of "buildah containers " command
  mafalb.buildah.buildah_containers:
    truncate: true
  register: result

- name: BUILDAH | Debug
  ansible.builtin.debug:
    var: result.stdout_lines

- name: BUILDAH | Test JSON output of "buildah containers --json " command
  mafalb.buildah.buildah_containers:
    json: true
  register: result

- name: BUILDAH | Debug
  ansible.builtin.debug:
    var: result.stdout_lines

- name: BUILDAH | Test output of "buildah containers --notruncate" command
  mafalb.buildah.buildah_containers:
    truncate: false
  register: result

- name: BUILDAH | Debug
  ansible.builtin.debug:
    var: result.stdout_lines

# #######################  DOES NOT WORK YET ###################################
#   - name: BUILDAH | Test output of "buildah containers <FORMAT> " command
#     buildah_containers:
#       name: docker.io/library/fedora
#       format: 'ID: {{.ID}} Name: {{.Name}} Digest: {{.Digest}} Created: {{.CreatedAt}} Size: {{.Size}}'
#     register: result
#     tags:
#       - go

#   - debug: var=result.stdout_lines
#     tags:
#       - go
# #######################  DOES NOT WORK YET ###################################

- name: BUILDAH | Test output of "buildah containers --noheading " command
  mafalb.buildah.buildah_containers:
    heading: false
  register: result

- name: BUILDAH | Debug
  ansible.builtin.debug:
    var: result.stdout_lines

- name: BUILDAH | Test output of ALL "buildah containers" command
  mafalb.buildah.buildah_containers:
  register: result

- name: BUILDAH | Debug
  ansible.builtin.debug:
    var: result.stdout_lines
...
